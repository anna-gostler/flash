<div class="capture-image" #cameraContainer>
  <div>
    <webcam
      id="camera"
      [height]="(cameraSize$ | async)?.height || 0"
      [width]="(cameraSize$ | async)?.width || 0"
      *ngIf="!image && !!cameraValid"
      [trigger]="triggerObservable"
      (imageCapture)="handleImage($event)"
      [videoOptions]="videoOptions"
      [imageQuality]="1"
      #camera
    >
    </webcam>
  </div>

  <div class="captured-image" [class.captured-image-not-present]="!image">
    <img
      [height]="(cameraSize$ | async)?.height || 0"
      [src]="image?.imageAsDataUrl"
      #capturedImage
      id="captured-image"
    />
  </div>

  <div>
    <button
      *ngIf="!image"
      mat-stroked-button
      class="action-button"
      (click)="triggerSnapshot()"
    >
      <fa-icon [icon]="cameraIcon"></fa-icon>
    </button>
    <button
      *ngIf="image"
      mat-stroked-button
      class="action-button"
      (click)="deleteImage()"
    >
      <fa-icon [icon]="deleteIcon"></fa-icon>
    </button>
  </div>
</div>
